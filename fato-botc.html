<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <base href="/BMMOB-Treinamento/">
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Fato - BO TC</title>
  <style>
    * { box-sizing: border-box; }
    body {
      margin: 0;
      font-family: Arial, sans-serif;
      background-color: #f1f1f1;
      display: flex;
      justify-content: center;
      align-items: center;
      height: 100vh;
    }
    .container {
      background-color: #fff;
      width: 100%;
      max-width: 400px;
      height: 100%;
      display: flex;
      flex-direction: column;
    }

    .topbar {
      background-color: #333;
      color: #fff;
      display: flex;
      align-items: center;
      justify-content: space-between;
      padding: 10px 12px;
      font-weight: bold;
      flex-shrink: 0;
    }
    .topbar .title { text-transform: uppercase; letter-spacing: .5px; }
    .topbar img { width: 22px; height: 22px; cursor: pointer; }

    .content { flex: 1; overflow-y: auto; padding: 4px 16px 0 16px; }

    select.form-select {
      width: 100%;
      display: block;
      padding: 8px;
      padding-right: 28px;
      border-radius: 6px;
      border: 1px solid #ccc;
      margin: 12px 0;
      font-size: 14px;
      background: #fff;
      text-transform: uppercase;
      text-align-last: center;
      -moz-text-align-last: center;
      text-align: center;
    }
    select.form-select.is-placeholder { color: #d00; }
    select.form-select option:first-child { color: #d00; }

    .forma-row {
      display: flex; align-items: center; gap: 24px;
      margin: 8px 0 12px 0; font-size: 14px;
    }

    .center-title {
      text-align: center; font-weight: bold; color: #333;
      margin: 12px 0 6px 0; text-transform: uppercase; font-size: 13px;
    }
    .date-line { margin: 8px 0; font-size: 14px; color: #111; }
    .divider { height: 1px; background: #e5e5e5; margin: 8px 0; }

    .btn-primary {
      margin: 16px 0; width: 100%;
      background-color: #2f6f73; color: #fff;
      border: none; border-radius: 6px; padding: 12px 16px;
      font-weight: bold; cursor: pointer;
    }

    .footer {
      display: flex; justify-content: space-around;
      background-color: #2f6f73; padding: 10px 0; flex-shrink: 0;
    }
    .footer img {
      cursor: pointer; width: 28px; height: 28px;
      transition: all 0.2s ease-in-out;
      filter: grayscale(30%) brightness(0.9);
    }
    .footer img:hover { width: 32px; height: 32px; filter: grayscale(0%) brightness(1.2); }
    .footer img.active { filter: grayscale(0%) brightness(1.1); }
  </style>
</head>
<body>
  <div class="container">
    <div class="topbar">
      <img src="img/back.png" alt="Voltar" onclick="window.history.back()">
      <div class="title">BOLETIM</div>
      <img src="img/check.png" alt="Salvar" onclick="salvarFato()">
    </div>

    <div class="content">
      <select id="fato" class="form-select" required>
        <option value="" disabled selected>* FATO</option>
        <option>AMEAÇA</option>
        <option>DANO</option>
        <option>LESÃO CORPORAL</option>
        <option>ROUBO</option>
        <option>TRÁFICO DE ENTORPECENTES</option>
      </select>

      <div class="forma-row">
        <label><input type="radio" name="forma" value="Tentado"> Tentado</label>
        <label><input type="radio" name="forma" value="Consumado"> Consumado</label>
      </div>

      <div class="center-title">Início</div>
      <div class="date-line" id="inicioTxt"></div>
      <div class="divider"></div>

      <div class="center-title">Fim</div>
      <div class="date-line" id="fimTxt" style="color:#777">—</div>
      <div class="divider"></div>

      <button class="btn-primary" id="btnFatos">FATOS COMPLEMENTARES</button>
    </div>

    <div class="footer">
      <img src="img/doc.png" class="active">
      <img src="img/user.png">
      <img src="img/car.png">
      <img src="img/gun.png">
      <img src="img/doc.png">
    </div>
  </div>

  <script>
    function pad2(n){ return String(n).padStart(2,'0'); }
    function agoraFmt(){ const d = new Date(); return `${pad2(d.getDate())}/${pad2(d.getMonth()+1)}/${d.getFullYear()} ${pad2(d.getHours())}:${pad2(d.getMinutes())}`; }
    document.getElementById('inicioTxt').textContent = agoraFmt();

    const selFato = document.getElementById('fato');
    function updatePlaceholderStyle(){ selFato.classList.toggle('is-placeholder', selFato.value === ""); }
    selFato.addEventListener('change', updatePlaceholderStyle);
    updatePlaceholderStyle();

    function salvarFato(){
      const fatoVal = selFato.value;
      const forma = document.querySelector('input[name="forma"]:checked');
      if (!fatoVal) { alert('Selecione o FATO.'); return; }
      if (!forma) { alert('Selecione a FORMA.'); return; }
      alert('Fato registrado: ' + fatoVal + ' | Forma: ' + forma.value);
    }
    window.salvarFato = salvarFato;
    document.getElementById('btnFatos').addEventListener('click', () => alert('Abrir tela de Fatos Complementares…'));
  </script>
</body>
</html>
